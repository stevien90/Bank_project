package com.OkaneBanku.app.dao.impl;

import java.sql.SQLException;



import java.sql.Connection;
import java.sql.PreparedStatement;

import com.OkaneBanku.app.dao.CustomerDAO;
import com.OkaneBanku.app.dao.dbutil.PostgresConnection;
import com.OkaneBanku.app.exception.BusinessException;

import com.OkaneBanku.app.model.customer;

public class CustomerDAOImpl implements CustomerDAO {
	

	@Override
	public void createCustomer(customer customer) throws BusinessException {
		int c = 0;
		try (Connection connection = PostgresConnection.getConnection()) {
			String sql = "insert into bank_schema.customer(firstname,lastname,city,phone,email) values (?,?,?,?,?)";
			PreparedStatement preparedStatement = connection.prepareStatement(sql);
			preparedStatement.setString(1, customer.getFirstname());
			preparedStatement.setString(2, customer.getLastname());
			preparedStatement.setString(3, customer.getCity());
			preparedStatement.setString(4, customer.getPhone());
			preparedStatement.setString(5, customer.getEmail());
			c = preparedStatement.executeUpdate();
			
			String sql2 = "insert into bank_schema.account(accountid) values (?)";
			PreparedStatement preparedStatement2 = connection.prepareStatement(sql2);
			
		} catch (ClassNotFoundException | SQLException e) {
			throw new BusinessException("Internal error occured... Please contact SyssAdmin");
			/// need file logj4
		}
		
	}
	
	@Override
	public String logincheck(String username, String password) throws BusinessException {
		// TODO Auto-generated method stub
		return null;
	}


	@Override
	public double viewSavingAcc(int customerid) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double viewCheckingAcc(int customerid) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double withdrawChecking(int customerid, double withdraw) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double withdrawSaving(int customerid, double withdraw) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double depositChecking(int customerid, double deposit) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double depositSavinging(int customerid, double deposit) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double transferChecking(int customerid, double transfer) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public double transferSaving(int customerid, double transfer) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

}
