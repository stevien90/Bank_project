package com.OkaneBanku.app.dao.impl;

import java.sql.SQLException;



import java.sql.Connection;
import java.sql.PreparedStatement;

import com.OkaneBanku.app.dao.CustomerDAO;
import com.OkaneBanku.app.dao.dbutil.PostgresConnection;
import com.OkaneBanku.app.exception.BusinessException;

import com.OkaneBanku.app.model.customer;

public class CustomerDAOImpl implements CustomerDAO {
	

	@Override
	public int createCustomer(customer customer) throws BusinessException {
		int c = 0;
		try (Connection connection = PostgresConnection.getConnection()) {
			String sql = "insert into bank_schema.customer(firstname,lastname,city,phone,email) values (?,?,?,?,?)";
			PreparedStatement preparedStatement = connection.prepareStatement(sql);
			preparedStatement.setString(1, customer.getFirstname());
			preparedStatement.setString(2, customer.getLastname());
			preparedStatement.setString(3, customer.getCity());
			preparedStatement.setString(4, customer.getPhone());
			preparedStatement.setString(5, customer.getEmail());
			c = preparedStatement.executeUpdate();
			
			String sql2 = "insert into bank_schema.account(accountid) values (?)";
			PreparedStatement preparedStatement2 = connection.prepareStatement(sql2);
			
		} catch (ClassNotFoundException | SQLException e) {
			throw new BusinessException("Internal error occured... Please contact SyssAdmin");
			/// need file logj4
		}
		
		
		return c;
	}

	@Override
	public int viewSavingAcc(int savingBalance) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int viewCheckingAcc(int checkingBalance) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public String logincheck(String username, String password) throws BusinessException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public int withdrawChecking(int checkingwithdraw) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int withdrawSaving(int savingwithdraw) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int depositChecking(int checkingdeposit) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int depositSavinging(int savingdeposit) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int transferChecking(int checkingtransfer) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int transferSaving(int savingtransfer) throws BusinessException {
		// TODO Auto-generated method stub
		return 0;
	}

}
